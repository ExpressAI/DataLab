<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Identify Dataset Artifacts | DataLab</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://expressai.github.io/DataLab/DataLab/docs/WebUI/bias_analysis_for_artifacts"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Identify Dataset Artifacts | DataLab"><meta data-react-helmet="true" name="description" content="To give a little bit background about what artifacts are:"><meta data-react-helmet="true" property="og:description" content="To give a little bit background about what artifacts are:"><link data-react-helmet="true" rel="icon" href="/DataLab/img/datalab_logo.png"><link data-react-helmet="true" rel="canonical" href="https://expressai.github.io/DataLab/DataLab/docs/WebUI/bias_analysis_for_artifacts"><link data-react-helmet="true" rel="alternate" href="https://expressai.github.io/DataLab/DataLab/docs/WebUI/bias_analysis_for_artifacts" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://expressai.github.io/DataLab/DataLab/docs/WebUI/bias_analysis_for_artifacts" hreflang="x-default"><link rel="stylesheet" href="/DataLab/assets/css/styles.f0aa1b77.css">
<link rel="preload" href="/DataLab/assets/js/runtime~main.83cbba9a.js" as="script">
<link rel="preload" href="/DataLab/assets/js/main.d3dd199a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/DataLab/"><div class="navbar__logo"><img src="/DataLab/img/datalab_logo.png" alt="DataLab Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/DataLab/img/datalab_logo.png" alt="DataLab Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">DataLab</b></a><a class="navbar__item navbar__link navbar__link--active" href="/DataLab/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ExpressAI/DataLab" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DataLab/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/DataLab/docs/WebUI/browse_dataset_in_web_platform">WebUI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DataLab/docs/WebUI/browse_dataset_in_web_platform">Browse Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DataLab/docs/WebUI/fine_grained_analysis_of_a_dataset">Fine-grained Information of a Dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DataLab/docs/WebUI/bias_analysis_for_hate_speech">Hate Speech Analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DataLab/docs/WebUI/bias_analysis_for_gender_bias">Gender Bias Analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/DataLab/docs/WebUI/bias_analysis_for_artifacts">Identify Dataset Artifacts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DataLab/docs/WebUI/compare_two_datasets">Compare Two Datasets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DataLab/docs/WebUI/dataset_recommendation_based_on_idea">Dataset Recommendation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DataLab/docs/WebUI/use_data_operations_to_process_your_data">Process Your Own Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DataLab/docs/WebUI/analyzing_summarization_datasets">Analyzing Summarization Datasets</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/DataLab/docs/SDK/add_language_info">SDK</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Identify Dataset Artifacts</h1><p>To give a little bit background about what artifacts are:
they are are unexpected features existing in dataset that could provide a shortcut for model learning. For example, suppose that we have a binary
sentiment classification dataset, where</p><ul><li>all shorter samples are labeled as positive</li><li>all longer samples are labeled as negative
model learned such as dataset will have bad generalization ability to unseen datasets since, in the world, not all datasets are like this one. It&#x27;s a <code>fake</code> feature, which we
call as <code>artifact</code>.</li></ul><p>The basic idea of artifact identification is to use PMI (Pointwise mutual information) to detect whether there
is an association between <strong>TWO</strong> features (e.g., sentence length v.s category).</p><p>For example, given two feature_i, and feature_j, a higher absolute value of PMI(feature_i, feature_j)
suggests: </p><ul><li>higher association between feature_i, and feature_j; </li><li>a potential artifact pattern involving feature_i, and feature_j, (e.g., longer sentences tend to have a positive sentiment.)</li></ul><p>One famous example of examining artifacts from previous work is <a href="https://arxiv.org/pdf/1803.02324.pdf" target="_blank" rel="noopener noreferrer">Annotation Artifacts in Natural Language Inference Data</a>.
Inspired by this work, we take <a href="http://datalab.nlpedia.ai/normal_dataset/617794bfb7314cb4146d2384/dataset_bias" target="_blank" rel="noopener noreferrer"><code>snli</code></a> dataset
as one example and walk through how to identify potential artifacts of a dataset using DataLab.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-1-find-the-datasets-artifact-analysis-page">Step 1: Find the dataset&#x27;s artifact analysis page<a class="hash-link" href="#step-1-find-the-datasets-artifact-analysis-page" title="Direct link to heading">â€‹</a></h3><p>Navigate to the dataset by either (1) searching for it in the top bar, or (2) clicking the &quot;Data&quot; button on the front page and browsing to it.
Click the <code>Bias</code> tab, and then under the &quot;choose bias dimension&quot; menu select <code>artifact identification</code>.</p><img src="https://user-images.githubusercontent.com/59123869/154880168-d6def7f6-2833-4665-a490-3cb09fd199d4.png" width="600"><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-2-select-two-feature-fields">Step 2: Select two feature fields<a class="hash-link" href="#step-2-select-two-feature-fields" title="Direct link to heading">â€‹</a></h3><p>Before selecting two specific features, we first select a <code>field</code>.
Here by <code>field</code>, we indicate basic piece of information in the example.
For example, in natural language inference task, the <code>field</code> could be <code>premise</code>, <code>hypothesis</code>, and <code>label</code>.
In text summarization task, the <code>field</code> could be <code>source</code> and <code>summary</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-3-select-two-features">Step 3: Select two features<a class="hash-link" href="#step-3-select-two-features" title="Direct link to heading">â€‹</a></h3><p>Features are properties defined over the data of each field. For example,
the <code>text length</code> could be a feature of the field <code>hypothesis</code>, or <code>label</code> itself could be a feature of the field <code>label</code>.</p><img src="https://user-images.githubusercontent.com/59123869/154881277-c1b1de9a-3a07-4446-8a2b-e9fbad161d75.png" width="600"><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-4-interpret-results">Step 4: Interpret results<a class="hash-link" href="#step-4-interpret-results" title="Direct link to heading">â€‹</a></h3><p>Once we finished the above three steps, a visualized PMI matrix will be printed automatically:</p><img src="https://user-images.githubusercontent.com/59123869/154881323-0e614f18-571d-4340-b991-91e5b35f3f80.png" width="600"><p>For example, in the above matrix, value in entry (i,j) represents the PMI(i,j).
and <code>8.4~12.1 (count:10883)</code> shows that there are 10883 samples whose hypothesis lengths are in <!-- -->[8.4,12.1]<!-- -->.</p><p>One tip here is we can examine the entries with higher absolute value of PMI (i.e., darker color), suggesting a potential artifact pattern.</p><p>For each entry, you also can see a floating text box. For example, in this example, suppose that
x = <code>hypothesis length</code> satisfies <!-- -->[8.4, 12.1]<!-- -->,
y = <code>category label</code> is neutral
N = <code>the number of all samples</code>: 50000</p><p>we have:</p><ul><li>p(x) = n(x)/N = 10883/50000  (n(x))</li><li>p(y) = n(x)/N = 16525/50000
where n(x) represents the number of samples with feature x.
We define</li><li><code>actual number</code> as the actual number of samples with features x and y: N * P(x,y) </li><li><code>ideal count</code> as the number of samples with features x and y if they were independent: N <em> P(x) </em> P(y)</li><li><code>PMI</code> = log p(x,y)/(p(x)p(y))</li></ul><p>Then for each entry of the matrix, we can see one floating text box, showing following statistics:</p><ul><li><code>label</code> (neutral): one feature</li><li><code>hypothesis_length</code> (8.4~12.1): another feature</li><li><code>actual count</code>: the actual number of samples whose <code>label</code> is neutral and <code>hypothesis_length</code> is in <!-- -->[8.4~12.1]<!-- -->.</li><li><code>ideal count</code>: the ideal number of samples whose <code>label</code> is neutral and <code>hypothesis_length</code> is in <!-- -->[8.4~12.1]<!-- -->.</li><li><code>overrepresented</code>: the ratio between <code>actual count</code> and <code>ideal count</code>.</li><li><code>PMI</code>: the PMI value  </li></ul><p>From this PMI matrix, we can observe that:</p><ul><li>when the length of hypothesis is larger than 8.4, PMI(label_neutral,length_hypothesis) &gt;0.28, suggesting that &quot;long hypotheses&quot; tend to co-occur with
the &quot;neutral&quot; label regardless of what the premises are.</li><li>when length_hypothesis âˆˆ <!-- -->[1,4.7]<!-- -->, PMI(label_entailment,length_hypothesis) = 0.359, implying that &quot;short hypotheses&quot; tend to co-occur
with the label &quot;entailment&quot;.</li></ul><p>The above is just one example, and we can identify more potential artifacts in a similar way based on different features provided by DataLab.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ExpressAI/DataLab/tree/main/docs/WebUI/5_bias_analysis_for_artifacts.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/DataLab/docs/WebUI/bias_analysis_for_gender_bias"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Gender Bias Analysis</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/DataLab/docs/WebUI/compare_two_datasets"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Compare Two Datasets</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-find-the-datasets-artifact-analysis-page" class="table-of-contents__link toc-highlight">Step 1: Find the dataset&#39;s artifact analysis page</a></li><li><a href="#step-2-select-two-feature-fields" class="table-of-contents__link toc-highlight">Step 2: Select two feature fields</a></li><li><a href="#step-3-select-two-features" class="table-of-contents__link toc-highlight">Step 3: Select two features</a></li><li><a href="#step-4-interpret-results" class="table-of-contents__link toc-highlight">Step 4: Interpret results</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/DataLab/docs/intro">Tutorial</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 DataLab.</div></div></div></footer></div>
<script src="/DataLab/assets/js/runtime~main.83cbba9a.js"></script>
<script src="/DataLab/assets/js/main.d3dd199a.js"></script>
</body>
</html>