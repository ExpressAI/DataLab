"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[738],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return f}});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(a),f=i,h=d["".concat(o,".").concat(f)]||d[f]||c[f]||r;return a?n.createElement(h,l(l({ref:t},u),{},{components:a})):n.createElement(h,l({ref:t},u))}));function f(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,l=new Array(r);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:i,l[1]=s;for(var p=2;p<r;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},2949:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return u},default:function(){return d}});var n=a(7462),i=a(3366),r=(a(7294),a(3905)),l=["components"],s={},o="Identify Dataset Artifacts",p={unversionedId:"WebUI/bias_analysis_for_artifacts",id:"WebUI/bias_analysis_for_artifacts",title:"Identify Dataset Artifacts",description:"To give a little bit background about what artifacts are:",source:"@site/docs/WebUI/5_bias_analysis_for_artifacts.md",sourceDirName:"WebUI",slug:"/WebUI/bias_analysis_for_artifacts",permalink:"/DataLab/docs/WebUI/bias_analysis_for_artifacts",editUrl:"https://github.com/ExpressAI/DataLab/tree/gh-pages/docs/WebUI/5_bias_analysis_for_artifacts.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Gender Bias Analysis",permalink:"/DataLab/docs/WebUI/bias_analysis_for_gender_bias"},next:{title:"Compare Two Datasets",permalink:"/DataLab/docs/WebUI/compare_two_datasets"}},u=[{value:"Step 1: Find the dataset&#39;s artifact analysis page",id:"step-1-find-the-datasets-artifact-analysis-page",children:[],level:3},{value:"Step 2: Select two feature fields",id:"step-2-select-two-feature-fields",children:[],level:3},{value:"Step 3: Select two features",id:"step-3-select-two-features",children:[],level:3},{value:"Step 4: Interpret results",id:"step-4-interpret-results",children:[],level:3}],c={toc:u};function d(e){var t=e.components,a=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"identify-dataset-artifacts"},"Identify Dataset Artifacts"),(0,r.kt)("p",null,"To give a little bit background about what artifacts are:\nthey are are unexpected features existing in dataset that could provide a shortcut for model learning. For example, suppose that we have a binary\nsentiment classification dataset, where"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"all shorter samples are labeled as positive"),(0,r.kt)("li",{parentName:"ul"},"all longer samples are labeled as negative\nmodel learned such as dataset will have bad generalization ability to unseen datasets since, in the world, not all datasets are like this one. It's a ",(0,r.kt)("inlineCode",{parentName:"li"},"fake")," feature, which we\ncall as ",(0,r.kt)("inlineCode",{parentName:"li"},"artifact"),".")),(0,r.kt)("p",null,"The basic idea of artifact identification is to use PMI (Pointwise mutual information) to detect whether there\nis an association between ",(0,r.kt)("strong",{parentName:"p"},"TWO")," features (e.g., sentence length v.s category)."),(0,r.kt)("p",null,"For example, given two feature_i, and feature_j, a higher absolute value of PMI(feature_i, feature_j)\nsuggests: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"higher association between feature_i, and feature_j; "),(0,r.kt)("li",{parentName:"ul"},"a potential artifact pattern involving feature_i, and feature_j, (e.g., longer sentences tend to have a positive sentiment.)")),(0,r.kt)("p",null,"One famous example of examining artifacts from previous work is ",(0,r.kt)("a",{parentName:"p",href:"https://arxiv.org/pdf/1803.02324.pdf"},"Annotation Artifacts in Natural Language Inference Data"),".\nInspired by this work, we take ",(0,r.kt)("a",{parentName:"p",href:"http://datalab.nlpedia.ai/normal_dataset/617794bfb7314cb4146d2384/dataset_bias"},(0,r.kt)("inlineCode",{parentName:"a"},"snli"))," dataset\nas one example and walk through how to identify potential artifacts of a dataset using DataLab."),(0,r.kt)("h3",{id:"step-1-find-the-datasets-artifact-analysis-page"},"Step 1: Find the dataset's artifact analysis page"),(0,r.kt)("p",null,'Navigate to the dataset by either (1) searching for it in the top bar, or (2) clicking the "Data" button on the front page and browsing to it.\nClick the ',(0,r.kt)("inlineCode",{parentName:"p"},"Bias"),' tab, and then under the "choose bias dimension" menu select ',(0,r.kt)("inlineCode",{parentName:"p"},"artifact identification"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/59123869/154880168-d6def7f6-2833-4665-a490-3cb09fd199d4.png",width:"600"}),(0,r.kt)("h3",{id:"step-2-select-two-feature-fields"},"Step 2: Select two feature fields"),(0,r.kt)("p",null,"Before selecting two specific features, we first select a ",(0,r.kt)("inlineCode",{parentName:"p"},"field"),".\nHere by ",(0,r.kt)("inlineCode",{parentName:"p"},"field"),", we indicate basic piece of information in the example.\nFor example, in natural language inference task, the ",(0,r.kt)("inlineCode",{parentName:"p"},"field")," could be ",(0,r.kt)("inlineCode",{parentName:"p"},"premise"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"hypothesis"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"label"),".\nIn text summarization task, the ",(0,r.kt)("inlineCode",{parentName:"p"},"field")," could be ",(0,r.kt)("inlineCode",{parentName:"p"},"source")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"summary"),"."),(0,r.kt)("h3",{id:"step-3-select-two-features"},"Step 3: Select two features"),(0,r.kt)("p",null,"Features are properties defined over the data of each field. For example,\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"text length")," could be a feature of the field ",(0,r.kt)("inlineCode",{parentName:"p"},"hypothesis"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"label")," itself could be a feature of the field ",(0,r.kt)("inlineCode",{parentName:"p"},"label"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/59123869/154881277-c1b1de9a-3a07-4446-8a2b-e9fbad161d75.png",width:"600"}),(0,r.kt)("h3",{id:"step-4-interpret-results"},"Step 4: Interpret results"),(0,r.kt)("p",null,"Once we finished the above three steps, a visualized PMI matrix will be printed automatically:"),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/59123869/154881323-0e614f18-571d-4340-b991-91e5b35f3f80.png",width:"600"}),(0,r.kt)("p",null,"For example, in the above matrix, value in entry (i,j) represents the PMI(i,j).\nand ",(0,r.kt)("inlineCode",{parentName:"p"},"8.4~12.1 (count:10883)")," shows that there are 10883 samples whose hypothesis lengths are in ","[8.4,12.1]","."),(0,r.kt)("p",null,"One tip here is we can examine the entries with higher absolute value of PMI (i.e., darker color), suggesting a potential artifact pattern."),(0,r.kt)("p",null,"For each entry, you also can see a floating text box. For example, in this example, suppose that\nx = ",(0,r.kt)("inlineCode",{parentName:"p"},"hypothesis length")," satisfies ","[8.4, 12.1]",",\ny = ",(0,r.kt)("inlineCode",{parentName:"p"},"category label")," is neutral\nN = ",(0,r.kt)("inlineCode",{parentName:"p"},"the number of all samples"),": 50000"),(0,r.kt)("p",null,"we have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"p(x) = n(x)/N = 10883/50000  (n(x))"),(0,r.kt)("li",{parentName:"ul"},"p(y) = n(x)/N = 16525/50000\nwhere n(x) represents the number of samples with feature x.\nWe define"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"actual number")," as the actual number of samples with features x and y: N * P(x,y) "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ideal count")," as the number of samples with features x and y if they were independent: N ",(0,r.kt)("em",{parentName:"li"}," P(x) ")," P(y)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PMI")," = log p(x,y)/(p(x)p(y))")),(0,r.kt)("p",null,"Then for each entry of the matrix, we can see one floating text box, showing following statistics:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"label")," (neutral): one feature"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hypothesis_length")," (8.4~12.1): another feature"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"actual count"),": the actual number of samples whose ",(0,r.kt)("inlineCode",{parentName:"li"},"label")," is neutral and ",(0,r.kt)("inlineCode",{parentName:"li"},"hypothesis_length")," is in ","[8.4~12.1]","."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ideal count"),": the ideal number of samples whose ",(0,r.kt)("inlineCode",{parentName:"li"},"label")," is neutral and ",(0,r.kt)("inlineCode",{parentName:"li"},"hypothesis_length")," is in ","[8.4~12.1]","."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"overrepresented"),": the ratio between ",(0,r.kt)("inlineCode",{parentName:"li"},"actual count")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"ideal count"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PMI"),": the PMI value  ")),(0,r.kt)("p",null,"From this PMI matrix, we can observe that:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'when the length of hypothesis is larger than 8.4, PMI(label_neutral,length_hypothesis) >0.28, suggesting that "long hypotheses" tend to co-occur with\nthe "neutral" label regardless of what the premises are.'),(0,r.kt)("li",{parentName:"ul"},"when length_hypothesis \u2208 ","[1,4.7]",', PMI(label_entailment,length_hypothesis) = 0.359, implying that "short hypotheses" tend to co-occur\nwith the label "entailment".')),(0,r.kt)("p",null,"The above is just one example, and we can identify more potential artifacts in a similar way based on different features provided by DataLab."))}d.isMDXComponent=!0}}]);